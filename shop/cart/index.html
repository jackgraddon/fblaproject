<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Cart | Generated</title>
    <link href="../../images/assets/logo/icon.png" rel="icon">
    <meta content="Shop" name="og:title">
    <meta content="Generated" name="og:site_name">
    <meta content="../../images/assets/promos/winter/ogimage.png" name="og:image">
    <meta content="website" name="og:type">
    <meta content="https://generatedprints.com/" name="og:url">
    <meta content="en_US" name="og:locale">

    <!-- PWA -->
    <link href="../../images/assets/logo/generated.png" rel="apple-touch-icon">
    <link rel="manifest" href="../../manifest.json">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <script src="https://kit.fontawesome.com/82aa41a567.js" crossorgin="anonymous"></script>
    <script src="https://kit.fontawesome.com/82aa41a567.js" crossorgin="anonymous"></script>
    <!-- Swiper -->
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
    <!-- Personal CSS -->
    <link href="../../css/styles.css" rel="stylesheet">
</head>

<body>
    <div class="nav">
        <a onclick="linkClicked('../../')" id="homelinkM">
            <h1>//Generated</h1>
        </a>
        <div class="d-flex flex-row">
            <a onclick="linkClicked('../../about/')" id="aboutlink" class="pageLink">
                <h5>About</h5>
            </a>
            <a onclick="linkClicked('../../contact/')" id="contactlink" class="pageLink">
                <h5>Contact</h5>
            </a>
            <a onclick="linkClicked('../../')" id="homelink">
                <h1>//Generated</h1>
            </a>
            <a onclick="linkClicked('../../socials/')" id="socialslink" class="pageLink">
                <h5>Socials</h5>
            </a>
            <a onclick="linkClicked('../../shop/')" id="shoplink" class="pageLink">
                <h5>Shop</h5>
            </a>
        </div>
    </div>
    <section id="empty" style="overflow: hidden">
        <div class="fullpage" style="height: 75vh;">
            <div class="textgroup">
                <h2>Your Cart is Empty!</h2>
                <p>Let's get it filled up!</p>
                <a class="btn btn-primary" onclick="linkClicked('../browse/')">Shop Prints</a>
            </div>
        </div>

        <a class="btn btn-primary" onclick="generateCart('test')">Generate Test Cart</a>
    </section>
    <section id="full" style="opacity: 0; display: none; margin-top: 10vh; min-height: 75vh;">
        <div>
            <div class="textgroup">
                <h2>Here's what you've got.</h2>
                <table id="cart">
                </table>
                <span style="margin-top: 5em;">
                    <a onclick="localStorage.clear(); window.location.reload()" class="btn btn-primary">Clear Cart</a>
                    <a class="btn btn-disabled">Checkout</a>
                </span>
            </div>
        </div>
    </section>
    <script src="../../js/cart.js"></script>
    <script>
        setup('../../cart.json');

        let items = [];
        function generateCart(info) {
            if (info == 'test') {
                info = {
                    cart: 3,
                    items: {
                        1: {
                            name: "Forest",
                            size: "46in",
                            price: 49.99
                        },
                        2: {
                            name: "Animals",
                            size: "46in",
                            price: 49.99
                        },
                        3: {
                            name: "Snow",
                            size: "36in",
                            price: 59.99
                        }
                    }
                }
            }
            for (var i in info.items) {
                items.push([i, info.items[i].name, info.items[i].size, info.items[i].price]);
            }
            let head = document.createElement('tr');
            head.id = `cartHeader`;
            document.getElementById('cart').appendChild(head);

            let name = document.createElement('td')
            name.innerHTML = 'Name';
            name.setAttribute('colspan', '1');
            let size = document.createElement('td')
            size.innerHTML = 'Size';
            size.setAttribute('colspan', '1');
            let price = document.createElement('td')
            price.innerHTML = 'Price (USD)';
            price.setAttribute('colspan', '1');

            head.appendChild(name);
            head.appendChild(size);
            head.appendChild(price);
            for (i = 0; i < items.length; i++) {
                let item = items[i];
                console.log(item);

                let row = document.createElement('tr');
                row.id = `row${i}`;
                document.getElementById('cart').appendChild(row);

                let name = document.createElement('td')
                name.innerHTML = item[1];
                let size = document.createElement('td')
                size.innerHTML = item[2];
                let price = document.createElement('td')
                price.innerHTML = item[3];

                row.appendChild(name);
                row.appendChild(size);
                row.appendChild(price);

                // Load element
                if (typeof gsap !== 'undefined') {
                    window.scrollTo(0, 0);
                    gsap.fromTo('#full', 0.8, { y: 25, opacity: 0, delay: 0.5, display: 'block', overflowY: 'hidden', ease: "power2.out" }, { delay: 0.5, overflowY: 'visible', y: 0, opacity: 1 });
                    gsap.to('#empty', 0.8, { opacity: 0, height: 0, display: 'none' })
                } else {
                    document.getElementById('full').style.opacity = 1;
                }
            }
        }

        window.onload = () => {
            // data = { cart: 1, items: { 1: "pain" } };
            // console.log(data);
            if (data !== cart) {
                generateCart(data);

                // Load element
                if (typeof gsap !== 'undefined') {
                    window.scrollTo(0, 0);
                    gsap.fromTo('#full', 0.8, { y: 25, opacity: 0, delay: 0.5, display: 'block', overflowY: 'hidden', ease: "power2.out" }, { delay: 0.5, overflowY: 'visible', y: 0, opacity: 1 });
                    gsap.to('#empty', 0.8, { opacity: 0, height: 0, display: 'none' })
                } else {
                    document.getElementById('full').style.opacity = 1;
                }
            }
        }


            // Load element
        //     if (typeof gsap !== 'undefined') {
        //         window.scrollTo(0, 0);
        //         gsap.fromTo('#full', 0.8, { y: 25, opacity: 0, delay: 0.5, display: 'block', overflowY: 'hidden', ease: "power2.out" }, { delay: 0.5, overflowY: 'visible', y: 0, opacity: 1 });
        //         gsap.to('#empty', 0.8, { opacity: 0, height: 0, display: 'none' })
        //     } else {
        //         document.getElementById('full').style.opacity = 1;
        //     }
        // }
    </script>
    <div class="footer">
        <h1>//Generated</h1>
        <div class="links">
            <a onclick="linkClicked('../../about/')" id="aboutlink">
                <h5>About</h5>
            </a>
            <a onclick="linkClicked('../../contact/')" id="contactlink">
                <h5>Contact</h5>
            </a>
            <a onclick="linkClicked('../../socials/')" id="socialslink">
                <h5>Socials</h5>
            </a>
            <a onclick="linkClicked('../../shop/')" id="shoplink">
                <h5>Shop</h5>
            </a>
        </div>
    </div>


    <script>
        // Disable Right Click
        document.addEventListener('contextmenu', event => event.preventDefault());
        // Visual Effects when nav link clicked
        function linkClicked(link) {
            gsap.to('body', 0.5, { opacity: 0, ease: "power2.inOut" });
            setTimeout(() => {
                window.location.href = link;
            }, 2000);
        }
        // Inactivity Check
        // var timeoutID;
        // function setup() {
        //     this.addEventListener("mousemove", resetTimer, false);
        //     this.addEventListener("mousedown", resetTimer, false);
        //     this.addEventListener("keydown", resetTimer, false);
        //     this.addEventListener("DOMMouseScroll", resetTimer, false);
        //     this.addEventListener("mousewheel", resetTimer, false);
        //     this.addEventListener("touchmove", resetTimer, false);
        //     this.addEventListener("MSPointerMove", resetTimer, false);
        //     startTimer();
        // }
        // setup();
        // function startTimer() {
        //     timeoutID = window.setTimeout(goInactive, 20000);
        // }
        // function resetTimer(e) {
        //     window.clearTimeout(timeoutID);
        //     goActive();
        // }
        // function goInactive() {
        //     if (window.innerWidth <= 760) document.getElementById('howToMobile').style.opacity = 1;
        //     else if (window.innerWidth > 760) document.getElementById('howToComputer').style.opacity = 1;
        // }
        // function goActive() {
        //     if (window.innerWidth <= 760) document.getElementById('howToMobile').style.opacity = 0;
        //     else if (window.innerWidth > 760) document.getElementById('howToComputer').style.opacity = 0;
        //     startTimer();
        // }
    </script>
    <!-- Bootstrap JS Bundle (bootstrap.js + popper.js) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/CSSRulePlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/TextPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/ScrollToPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/ScrollTrigger.min.js"></script>
    <!-- Sortable -->
    <!-- <script src="../../js/sortable.js"></script> -->
    <script>
        function toggleDropdown(elem) {
            let check = document.getElementById(elem);
            let label = "label[for='" + elem + "']";
            if (check.checked == true) {
                document.getElementById(`${elem}Drop`).style.height = 'auto';
                let height = document.getElementById(`${elem}Drop`).scrollHeight + 5;
                let width = document.querySelector('.dropdownContainer').scrollWidth + 10;
                console.log(width);
                document.getElementById(`${elem}Drop`).style.height = '0';
                document.getElementById(`${elem}Drop`).style.width = width + 'px';
                gsap.to(`#${elem}Drop`, 0.4, { height: `${height}px`, ease: "power2.out" })
            } else if (check.checked == false) {
                gsap.to(`#${elem}Drop`, 0.4, { height: 0, ease: "power2.out" })
            }
        }
        // function findPrints() {
        //     alert('this will do something some day')
        // }
        // window.addEventListener("load", function () {
        //     // CREATE SORTABLE TABLE WITH GIVEN OBJECT
        //     var items = {
        //         Price: [59.99, 59.99, 59.99, 59.99, 49.99, 49.99, 49.99],
        //         Name: ["Snow", "Winter Wonderland", "Leaves", "Leaves II", "Forest", "Forest II", "Animals"],
        //         Category: ["Winter", "Winter", "Autumn", "Autumn", "Nature", "Nature", "Nature"],
        //         Image: ["seasonal/snow.png", "seasonal/winterwonderland.png", "seasonal/autumn.png", "seasonal/autumn2.png", "forest.png", "forest2.png", "animals.png"],
        //         ReleaseDate: ["December 2021", "December 2021", "August 2021", "August 2021", "July 2021", "July 2021", "July 2021"]
        //     };
        //     createTable("hiddenTable", items, "sortable");
        //     let i = 1, row, j = 1;
        //     while (i < parseInt(document.querySelector('#hiddenTable tbody').childElementCount + 1)) {
        //         if (i % 2 != 0) {
        //             row = document.createElement(`div`);
        //             row.classList.add('row');
        //             row.id = `row${j}`;
        //             document.getElementById('productsContainer').appendChild(row)
        //         } else if (i % 2 == 0) {
        //             row = document.getElementById(`row${j}`);
        //             j++;
        //         }
        //         console.log(i);
        //         let item = document.createElement(`div`);
        //         item.id = `item${i}`;
        //         item.classList.add('item');
        //         item.style.backgroundImage = `url('../../images/ai/${document.getElementById(`item${i}Image`).innerHTML}')`;
        //         let container = document.createElement('div');
        //         let title = document.createElement('h2');
        //         let desc = document.createElement('p');
        //         let category = document.createElement('p');
        //         let releaseDate = document.createElement('h6');
        //         let buyBtn = document.createElement('a');
        //         releaseDate.innerHTML = document.getElementById(`item${i}ReleaseDate`).innerHTML;
        //         releaseDate.style.margin = 0;
        //         releaseDate.style.fontSize = "10pt";
        //         container.appendChild(releaseDate);
        //         category.innerHTML = document.getElementById(`item${i}Category`).innerHTML;
        //         category.style.margin = 0;
        //         category.style.fontSize = "14pt";
        //         container.appendChild(category);
        //         title.innerHTML = document.getElementById(`item${i}Name`).innerHTML;
        //         container.appendChild(title);
        //         desc.innerHTML = document.getElementById(`item${i}Price`).innerHTML;
        //         container.appendChild(desc);
        //         buyBtn.href = `./product/${document.getElementById(`item${i}Category`).innerHTML.toLowerCase().replace(" ", "")}/${document.getElementById(`item${i}Name`).innerHTML.toLowerCase().replace(" ", "")}/`;
        //         buyBtn.innerHTML = "Buy Now";
        //         buyBtn.classList.add('btn', 'btn-primary')
        //         container.appendChild(buyBtn)
        //         item.appendChild(container);
        //         row.appendChild(item);
        //         i++;
        //     }
        //     document.getElementById('productsContainer').style.display = 'flex'
        // });
    </script>
    <!-- Swiper -->
    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
    <!-- Detect Cache and Load Animations -->
    <script>
        // If the page is loaded from cache, refresh it to show up to date content.
        (function () {
            window.onpageshow = function (event) {
                if (event.persisted) {
                    window.location.reload();
                }
            };
        })();

        // Onload effects
        // window.onload = function () {
        //     if (typeof gsap !== 'undefined') {
        //         window.scrollTo(0, 0);
        //         gsap.fromTo('body', 0.8, { y: 25, opacity: 0, delay: 0.5, overflowY: 'hidden', ease: "power2.out" }, { delay: 0.5, overflowY: 'visible', y: 0, opacity: 1 });
        //     } else {
        //         document.querySelector('body').style.opacity = 1;
        //     }
        // };
    </script>
    <script>
        let swiper = new Swiper();
        function setSwiper() {
            if (window.innerWidth <= 760) {
                swiper = new Swiper('.swiper', {
                    effect: "cards",
                    cardsEffect: {
                        slideShadows: true
                    },
                    grabCursor: true,
                    keyboard: {
                        enabled: true,
                        onlyInViewport: true,
                    },
                });
            } else {
                swiper = new Swiper(".swiper", {
                    slidesPerView: "auto",
                    centeredSlides: true,
                    spaceBetween: 30,
                    keyboard: {
                        enabled: true,
                        onlyInViewport: true,
                    },
                });
            }
        }
        setSwiper();
        window.onresize = setSwiper();
    </script>
    <!-- jsCookie -->
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.min.js"></script>
    <!-- Crypto JS -->
    <script src="../../js/crypto-js.js"></script>
    <!-- <script type="text/javascript">
    </script> -->
</body>

</html>